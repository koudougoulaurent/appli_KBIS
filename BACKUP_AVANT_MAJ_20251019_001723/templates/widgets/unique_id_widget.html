{% load static %}

<div class="unique-id-widget" data-entity-type="{{ widget.entity_type }}">
    <div class="input-group">
        <input type="{{ widget.input_type }}" 
               name="{{ widget.name }}" 
               value="{{ widget.value|default:'' }}"
               {% if widget.attrs %}
                   {% for attr, val in widget.attrs.items %}
                       {{ attr }}="{% if val != True %}{{ val }}{% else %}{{ attr }}{% endif %}"
                   {% endfor %}
               {% endif %}
               class="form-control unique-id-input"
               readonly>
        
        <div class="input-group-append">
            <button type="button" 
                    class="btn btn-outline-primary btn-generate-id" 
                    data-target="{{ widget.attrs.id|default:widget.name }}"
                    data-entity-type="{{ widget.entity_type }}"
                    title="Générer un nouvel identifiant">
                <i class="bi bi-arrow-clockwise"></i>
            </button>
        </div>
    </div>
    
    <small class="form-text text-muted">
        <i class="bi bi-info-circle"></i>
        Format: {{ widget.format_preview }}
    </small>
</div>
