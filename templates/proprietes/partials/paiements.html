{% if paiements %}
    <div class="table-responsive">
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Locataire</th>
                    <th>Montant</th>
                    <th>Méthode</th>
                    <th>Statut</th>
                </tr>
            </thead>
            <tbody>
                {% for paiement in paiements %}
                <tr>
                    <td>{{ paiement.date_paiement|date:"d/m/Y" }}</td>
                    <td>
                        <a href="{% url 'proprietes:locataire_detail' paiement.contrat.locataire.pk %}">
                            {{ paiement.contrat.locataire.get_nom_complet }}
                        </a>
                    </td>
                    <td>{{ paiement.montant|floatformat:0 }} F CFA</td>
                    <td>{{ paiement.get_methode_paiement_display }}</td>
                    <td>
                        <span class="badge bg-{% if paiement.statut == 'valide' %}success{% elif paiement.statut == 'en_attente' %}warning{% else %}danger{% endif %}">
                            {{ paiement.get_statut_display }}
                        </span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="text-center">
        <a href="{% url 'paiements:liste' %}?propriete={{ propriete.pk }}" class="btn btn-sm btn-outline-primary">
            Voir tous les paiements
        </a>
    </div>
{% else %}
    <div class="text-center text-muted">
        <i class="bi bi-credit-card fs-1"></i>
        <p>Aucun paiement trouvé</p>
    </div>
{% endif %}
