<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test des champs select - Fix</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Fix pour l'affichage des champs select -->
    <link href="static/css/fix_select_display.css" rel="stylesheet">
</head>
<body>
    <div class="container py-5">
        <div class="row">
            <div class="col-12">
                <h1 class="mb-4">Test des champs select - Fix</h1>
                
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Test des champs de s√©lection</h5>
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="civilite" class="form-label">Civilit√©</label>
                                        <select class="form-select" id="civilite" name="civilite">
                                            <option value="">---------</option>
                                            <option value="M">Monsieur</option>
                                            <option value="Mme">Madame</option>
                                            <option value="Mlle">Mademoiselle</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="statut" class="form-label">Statut</label>
                                        <select class="form-select" id="statut" name="statut">
                                            <option value="">---------</option>
                                            <option value="actif">Actif</option>
                                            <option value="inactif">Inactif</option>
                                            <option value="suspendu">Suspendu</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="type_paiement" class="form-label">Type de paiement</label>
                                        <select class="form-select" id="type_paiement" name="type_paiement">
                                            <option value="">---------</option>
                                            <option value="loyer">Loyer</option>
                                            <option value="charges">Charges</option>
                                            <option value="caution">Caution</option>
                                            <option value="avance_loyer">Avance de loyer</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="mode_paiement" class="form-label">Mode de paiement</label>
                                        <select class="form-select" id="mode_paiement" name="mode_paiement">
                                            <option value="">---------</option>
                                            <option value="virement">Virement bancaire</option>
                                            <option value="cheque">Ch√®que</option>
                                            <option value="especes">Esp√®ces</option>
                                            <option value="prelevement">Pr√©l√®vement automatique</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="type_retrait" class="form-label">Type de retrait</label>
                                        <select class="form-select" id="type_retrait" name="type_retrait">
                                            <option value="">---------</option>
                                            <option value="mensuel">Mensuel</option>
                                            <option value="trimestriel">Trimestriel</option>
                                            <option value="annuel">Annuel</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="statut_retrait" class="form-label">Statut du retrait</label>
                                        <select class="form-select" id="statut_retrait" name="statut_retrait">
                                            <option value="">---------</option>
                                            <option value="en_attente">En attente</option>
                                            <option value="valide">Valid√©</option>
                                            <option value="refuse">Refus√©</option>
                                            <option value="annule">Annul√©</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-end">
                                <button type="submit" class="btn btn-primary">
                                    <i class="bi bi-check-circle"></i> Tester
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-header">
                        <h5 class="mb-0">Instructions de test</h5>
                    </div>
                    <div class="card-body">
                        <ol>
                            <li><strong>V√©rifiez que les options sont visibles :</strong> Cliquez sur chaque champ select et v√©rifiez que les options s'affichent correctement</li>
                            <li><strong>V√©rifiez que les options sont cliquables :</strong> Cliquez sur une option et v√©rifiez qu'elle se s√©lectionne</li>
                            <li><strong>V√©rifiez que les options ne sont pas masqu√©es :</strong> Aucune option ne doit √™tre invisible ou inaccessible</li>
                            <li><strong>V√©rifiez que les styles sont corrects :</strong> Les champs doivent avoir l'apparence Bootstrap standard</li>
                        </ol>
                        
                        <div class="alert alert-info mt-3">
                            <i class="bi bi-info-circle me-2"></i>
                            <strong>Note :</strong> Si les options ne s'affichent pas, ouvrez la console du navigateur (F12) et ex√©cutez <code>fixSelectDisplay()</code> ou <code>forceOptionsDisplay()</code>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Fix pour l'affichage des champs select -->
    <script src="static/js/fix_select_display.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üß™ Page de test des champs select charg√©e');
            
            // Test automatique
            setTimeout(function() {
                const selects = document.querySelectorAll('select');
                console.log(`üîç ${selects.length} champs select trouv√©s`);
                
                selects.forEach((select, index) => {
                    const options = select.querySelectorAll('option');
                    console.log(`üìã Select ${index + 1} (${select.id || select.name}): ${options.length} options`);
                    
                    // V√©rifier la visibilit√©
                    const isVisible = select.style.display !== 'none' && 
                                    select.style.visibility !== 'hidden' && 
                                    select.style.opacity !== '0';
                    console.log(`üëÅÔ∏è Select ${index + 1} visible: ${isVisible}`);
                });
            }, 1000);
        });
    </script>
</body>
</html>
